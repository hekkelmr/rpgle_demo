>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CPC2198: Current library changed to HEKKR4001.
CPC2196: Library HEKKR4001 added to library list.

>> executing command: CRTSQLRPGI srcstmf('/home/HEKKR400/builds/rpgle_demo/qrpglesrc/depts.pgm.sqlrpgle') OBJ(HEKKR4001/DEPTS) COMMIT(*NONE ) OBJTYPE(*PGM) OPTION(*EVENTF) OUTPUT(*PRINT) TEXT('') TGTRLS() DBGVIEW(*SOURCE) RPGPPOPT(*LVL2) COMPILEOPT('TGTCCSID(*JOB) OPTIMIZE() INCDIR(''includes'' ''QPROTOSRC'')')
sed: The label :a;N;$!ba;s/\n/ /g is greater than eight characters.
>> liblist: 
>> executing time: 2025-02-13-15.41.16.00

RNS9304: Program DEPTS placed in library HEKKR4001. 00 highest severity. Created on 02/13/25 at 15:41:17.
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      1
  Command  . . . . . . . . . . . . :   CRTBNDRPG
    Issued by  . . . . . . . . . . :     HEKKR400
  Program  . . . . . . . . . . . . :   DEPTS
    Library  . . . . . . . . . . . :     HEKKR4001
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /home/HEKKR400/builds/rpgle_demo/qrpglesrc/depts.p
                                       gm.sqlrpgle
    CCSID  . . . . . . . . . . . . :     1208
  Target CCSID . . . . . . . . . . :   *JOB (273)
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   02/13/25  15:35:44
  Generation severity level  . . . :   10
  Default activation group . . . . :   *YES
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *JOB
  Language identifier  . . . . . . :   *JOB
  Replace program  . . . . . . . . :   *YES
  User profile . . . . . . . . . . :   *USER
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   V7R5M0
  Allow null values  . . . . . . . :   *NO
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :   includes
                                   :   QPROTOSRC
  Preprocessor options . . . . . . :   *NORMVCOMMENT *EXPINCLUDE   *NOSEQSRC
  Output source file . . . . . . . :   QSQLPRE
    Library  . . . . . . . . . . . :     QTEMP
  Output source member . . . . . . :   DEPTS
  MINIMUM OUTPUT LINE LENGTH . . . :   100
  Require prototype for export . . :   *NO
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      2
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
                          S o u r c e   L i s t i n g
     1 **FREE                                                                                                               000001
     2                                                                                                                      000002
     3 Ctl-Opt DFTACTGRP(*no);                                                                                              000003
     4                                                                                                                      000004
     5 /include 'qrpgleref/constants.rpgleinc'                                                                              000005
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
        *--------------------------------------------------------------------------------------------*
        * RPG member name  . . . . . :  constants+                                                   *                     1
        * External name  . . . . . . :  ./qrpgleref/constants.rpgleinc                               *                     1
        * Last change  . . . . . . . :  02/13/25  10:02:29                                           *                     1
        *--------------------------------------------------------------------------------------------*
     6+   Dcl-C F01        X'31';                                                                                          1000001
     7+   Dcl-C F02        X'32';                                                                                          1000002
     8+   Dcl-C F03        X'33';                                                                                          1000003
     9+   Dcl-C F04        X'34';                                                                                          1000004
    10+   Dcl-C F05        X'35';                                                                                          1000005
    11+   Dcl-C F06        X'36';                                                                                          1000006
    12+   Dcl-C F07        X'37';                                                                                          1000007
    13+   Dcl-C F08        X'38';                                                                                          1000008
    14+   Dcl-C F09        X'39';                                                                                          1000009
    15+   Dcl-C F10        X'3A';                                                                                          1000010
    16+   Dcl-C F11        X'3B';                                                                                          1000011
    17+   Dcl-C F12        X'3C';                                                                                          1000012
    18+   Dcl-C F13        X'B1';                                                                                          1000013
    19+   Dcl-C F14        X'B2';                                                                                          1000014
    20+   Dcl-C F15        X'B3';                                                                                          1000015
    21+   Dcl-C F16        X'B4';                                                                                          1000016
    22+   Dcl-C F17        X'B5';                                                                                          1000017
    23+   Dcl-C F18        X'B6';                                                                                          1000018
    24+   Dcl-C F19        X'B7';                                                                                          1000019
    25+   Dcl-C F20        X'B8';                                                                                          1000020
    26+   Dcl-C F21        X'B9';                                                                                          1000021
    27+   Dcl-C F22        X'BA';                                                                                          1000022
    28+   Dcl-C F24        X'BC';                                                                                          1000023
    29+   Dcl-C ENTER      X'F1';                                                                                          1000024
    30+   Dcl-C HELP       X'F3';                                                                                          1000025
    31+   Dcl-C PRINT      X'F6';                                                                                          1000026
    32+   dcl-c true       *on;                                                                                            1000027
    33+   dcl-c false      *off;                                                                                           1000028
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
    34                                                                                                                      000006
    35 Dcl-Pr Employees ExtPgm;                                                                                             000007
    36   DepartmentNumber Char(3);                                                                                          000008
    37 End-Pr;                                                                                                              000009
    38                                                                                                                      000010
    39 Dcl-F depts WORKSTN Sfile(SFLDTA:Rrn) IndDS(WkStnInd) InfDS(FILEINFO);                                               000011
    40                                                                                                                      000012
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      3
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
    41 Dcl-S Exit Ind Inz(*Off);                                                                                            000013
    42                                                                                                                      000014
    43 Dcl-S Rrn          Zoned(4:0) Inz;                                                                                   000015
    44                                                                                                                      000016
    45 Dcl-DS WkStnInd;                                                                                                     000017
    46   ProcessSCF     Ind        Pos(21);                                                                                 000018
    47   ReprintScf     Ind        Pos(22);                                                                                 000019
    48   Error          Ind        Pos(25);                                                                                 000020
    49   PageDown       Ind        Pos(30);                                                                                 000021
    50   PageUp         Ind        Pos(31);                                                                                 000022
    51   SflEnd         Ind        Pos(40);                                                                                 000023
    52   SflBegin       Ind        Pos(41);                                                                                 000024
    53   NoRecord       Ind        Pos(60);                                                                                 000025
    54   SflDspCtl      Ind        Pos(85);                                                                                 000026
    55   SflClr         Ind        Pos(75);                                                                                 000027
    56   SflDsp         Ind        Pos(95);                                                                                 000028
    57 End-DS;                                                                                                              000029
    58                                                                                                                      000030
    59 Dcl-DS FILEINFO;                                                                                                     000031
    60   CPFID          Char(7)    Pos(46);                                                                                 000032
    61   MBRNAM         Char(10)   Pos(129);                                                                                000033
    62   FMTNAM         Char(10)   Pos(261);                                                                                000034
    63   CURSED         Bindec(4)  Pos(370);                                                                                000035
    64   FUNKEY         Char(1)    Pos(369);                                                                                000036
    65   SFLRRN_TOP     Bindec(4)  Pos(378);                                                                                000037
    66   SF_RRN         Int(5)     Pos(376);                                                                                000038
    67   SF_RCDS        Int(5)     Pos(380);                                                                                000039
    68 End-DS;                                                                                                              000040
    69                                                                                                                      000041
    70                                                                                                                      000042
    71 Dcl-S Index Int(5);                                                                                                  000043
    72                                                                                                                      000044
    73 Dcl-Ds Department ExtName('DEPARTMENT') Alias Qualified;                                                             000045
    74 End-Ds;                                                                                                              000046
    75                                                                                                                      000047
    76                                                                                                                      000048
    77                                                                                                                      000049
    78 // ------------------------------------------------------------                                                      000050
    79 Exit = *Off;                                                                                                         000051
    80 LoadSubfile();                                                                                                       000052
    81                                                                                                                      000053
    82 Dow (Not Exit);                                                                                                      000054
    83   Write HEADER_FMT;                                                                                                  000055
    84   Write FOOTER_FMT;                                                                                                  000056
    85   Exfmt SFLCTL;                                                                                                      000057
    86                                                                                                                      000058
    87   Select;                                                                                                            000059
    88     When (Funkey = F03 or Funkey = F12);                                                                             000060
    89       Exit = *On;                                                                                                    000061
    90     When (Funkey = ENTER);                                                                                           000062
    91       HandleInputs();                                                                                                000063
    92   Endsl;                                                                                                             000064
    93 Enddo;                                                                                                               000065
    94                                                                                                                      000066
    95 *INLR = *ON;                                                                                                         000067
    96 Return;                                                                                                              000068
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      4
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
    97                                                                                                                      000069
    98                                                                                                                      000070
    99 // ------------------------------------------------------------                                                      000071
   100 Dcl-Proc ClearSubfile;                                                                                               000072
   101   SflDspCtl = *Off;                                                                                                  000073
   102   SflDsp = *Off;                                                                                                     000074
   103                                                                                                                      000075
   104   Write SFLCTL;                                                                                                      000076
   105                                                                                                                      000077
   106   SflDspCtl = *On;                                                                                                   000078
   107                                                                                                                      000079
   108   Rrn = 0;                                                                                                           000080
   109 End-Proc;                                                                                                            000081
   110                                                                                                                      000082
   111 // ------------------------------------------------------------                                                      000083
   112 Dcl-Proc LoadSubfile;                                                                                                000084
   113   dcl-c SQL_OK '00000';                                                                                              000085
   114                                                                                                                      000086
   115   ClearSubfile();                                                                                                    000087
   116                                                                                                                      000088
   117   EXEC SQL                                                                                                           000089
   118     DECLARE deptCur CURSOR FOR                                                                                       000090
   119     SELECT DEPTNO, DEPTNAME                                                                                          000091
   120     FROM DEPARTMENT;                                                                                                 000092
   121                                                                                                                      000093
   122   EXEC SQL OPEN deptCur;                                                                                             000094
   123                                                                                                                      000095
   124   if (sqlstate = SQL_OK);                                                                                            000096
   125                                                                                                                      000097
   126     dou (sqlstate <> SQL_OK);                                                                                        000098
   127       EXEC SQL                                                                                                       000099
   128         FETCH NEXT FROM deptCur                                                                                      000100
   129         INTO :Department.DEPTNO, :Department.DEPTNAME;                                                               000101
   130                                                                                                                      000102
   131       if (sqlstate = SQL_OK);                                                                                        000103
   132         XID   = Department.DEPTNO;                                                                                   000104
   133         XNAME = Department.DEPTNAME;                                                                                 000105
   134                                                                                                                      000106
   135         Rrn += 1;                                                                                                    000107
   136         Write SFLDTA;                                                                                                000108
   137       endif;                                                                                                         000109
   138     enddo;                                                                                                           000110
   139                                                                                                                      000111
   140   endif;                                                                                                             000112
   141                                                                                                                      000113
   142   EXEC SQL CLOSE deptCur;                                                                                            000114
   143                                                                                                                      000115
   144   If (Rrn > 0);                                                                                                      000116
   145     SflDsp = *On;                                                                                                    000117
   146     SFLRRN = 1;                                                                                                      000118
   147   Endif;                                                                                                             000119
   148                                                                                                                      000120
   149 End-Proc;                                                                                                            000121
   150                                                                                                                      000122
   151 // ------------------------------------------------------------                                                      000123
   152 Dcl-Proc HandleInputs;                                                                                               000124
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      5
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
   153   Dcl-S SelVal Char(1);                                                                                              000125
   154                                                                                                                      000126
   155   Dou (%EOF(depts));                                                                                                 000127
   156     ReadC SFLDTA;                                                                                                    000128
   157     If (%EOF(depts));                                                                                                000129
   158       Iter;                                                                                                          000130
   159     Endif;                                                                                                           000131
   160                                                                                                                      000132
   161     SelVal = %Trim(XSEL);                                                                                            000133
   162                                                                                                                      000134
   163     Select;                                                                                                          000135
   164       When (SelVal = '5');                                                                                           000136
   165         Employees(XID);                                                                                              000137
   166     Endsl;                                                                                                           000138
   167                                                                                                                      000139
   168     If (XSEL <> *Blank);                                                                                             000140
   169       XSEL = *Blank;                                                                                                 000141
   170       Update SFLDTA;                                                                                                 000142
   171       SFLRRN = Rrn;                                                                                                  000143
   172     Endif;                                                                                                           000144
   173   Enddo;                                                                                                             000145
   174 End-Proc;                                                                                                            000146
       * * * * *   E N D   O F   S O U R C E   * * * * *
                            / C o p y   M e m b e r s
Line   Src  RPG name   <-------- External name -------> CCSID  <- Last change ->
Number Id              Library    File       Member            Date     Time
     5    1 constants+ ./qrpgleref/constants.rpgleinc    1208  02/13/25 10:02:29
         * * * * *   E N D   O F   / C O P Y   M E M B E R S   * * * * *
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      6
Line   <---------------------- Data Records -------------------------------------------------------------->      Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10      Date   Id  Number
                       C o m p i l e   T i m e   D a t a
    * * * * *   E N D   O F   C O M P I L E   T I M E   D A T A   * * * * *
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      7
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      8
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :        0
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :        0
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :        0
  Source Totals:
    Records . . . . . . . . . . . . :      174
    Specifications  . . . . . . . . :      123
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       43
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Diagnostic check of source is complete. Highest severity is 00.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
                                                   -=* http://pub400.com *=-
5770ST1 V7R5M0 220415            Create SQL ILE RPG Object         DEPTS                       02/13/25 15:41:16          Page     1
Source type...............RPG
Object name...............HEKKR4001/DEPTS
Source file...............QTEMP/QSQLPRE
Member....................*OBJ
To source file............QTEMP/QSQLTEMP1
Options...................*LSTDBG
RPG preprocessor options..*LVL2
Listing option............*PRINT
Target release............V7R5M0
INCLUDE file..............*LIBL/QRPGLESRC
Commit....................*NONE
Allow copy of data........*OPTIMIZE
Close SQL cursor..........*ENDACTGRP
Allow blocking............*ALLREAD
Delay PREPARE.............*NO
Concurrent access
  resolution..............*DFT
Generation level..........10
Printer file..............*LIBL/QSYSPRT
Date format...............*JOB
Date separator............*JOB
Time format...............*HMS
Time separator ...........*JOB
Replace...................*YES
Relational database.......*LOCAL
User .....................*CURRENT
RDB connect method........*DUW
Default collection........*NONE
Dynamic default
  collection..............*NO
Package name..............*OBJLIB/*OBJ
Path......................*NAMING
SQL rules.................*DB2
Created object type.......*PGM
Debugging view............*SOURCE
Debugging encryption key..*NONE
User profile .............*NAMING
Dynamic user profile......*USER
Sort sequence.............*JOB
Language ID...............*JOB
IBM SQL flagging..........*NOFLAG
ANS flagging..............*NONE
Text......................
Source file CCSID.........273
Job CCSID.................273
Decimal result options:
  Maximum precision.......31
  Maximum scale...........31
  Minimum divide scale....0
DECFLOAT rounding mode....*HALFEVEN
Compiler options..........TGTCCSID(*JOB) OPTIMIZE() INCDIR('includes' 'QPROTOSRC')
Source member changed on 02/13/25  15:41:16
                                                   -=* http://pub400.com *=-
5770ST1 V7R5M0 220415            Create SQL ILE RPG Object         DEPTS                       02/13/25 15:41:16          Page     2
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8 ...+... 9 ...+... 0   SEQNBR  Last change
    1   **FREE                                                                                                 000001   02/13/25
    2                                                                                                          000002   02/13/25
    3   Ctl-Opt DFTACTGRP(*no);                                                                                000003   02/13/25
    4                                                                                                          000004   02/13/25
    5   // /include 'qrpgleref/constants.rpgleinc'                                                             000005   02/13/25
    6   **END-FREE                                                                                             000000
                                                   -=* http://pub400.com *=-
5770ST1 V7R5M0 220415            Create SQL ILE RPG Object         DEPTS                       02/13/25 15:41:16          Page     3
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8   SEQNBR  Last change       Comments
    7           Dcl-C F01        X'31';                                                    000001   02/13/25
    8           Dcl-C F02        X'32';                                                    000002   02/13/25
    9           Dcl-C F03        X'33';                                                    000003   02/13/25
   10           Dcl-C F04        X'34';                                                    000004   02/13/25
   11           Dcl-C F05        X'35';                                                    000005   02/13/25
   12           Dcl-C F06        X'36';                                                    000006   02/13/25
   13           Dcl-C F07        X'37';                                                    000007   02/13/25
   14           Dcl-C F08        X'38';                                                    000008   02/13/25
   15           Dcl-C F09        X'39';                                                    000009   02/13/25
   16           Dcl-C F10        X'3A';                                                    000010   02/13/25
   17           Dcl-C F11        X'3B';                                                    000011   02/13/25
   18           Dcl-C F12        X'3C';                                                    000012   02/13/25
   19           Dcl-C F13        X'B1';                                                    000013   02/13/25
   20           Dcl-C F14        X'B2';                                                    000014   02/13/25
   21           Dcl-C F15        X'B3';                                                    000015   02/13/25
   22           Dcl-C F16        X'B4';                                                    000016   02/13/25
   23           Dcl-C F17        X'B5';                                                    000017   02/13/25
   24           Dcl-C F18        X'B6';                                                    000018   02/13/25
   25           Dcl-C F19        X'B7';                                                    000019   02/13/25
   26           Dcl-C F20        X'B8';                                                    000020   02/13/25
   27           Dcl-C F21        X'B9';                                                    000021   02/13/25
   28           Dcl-C F22        X'BA';                                                    000022   02/13/25
   29           Dcl-C F24        X'BC';                                                    000023   02/13/25
   30           Dcl-C ENTER      X'F1';                                                    000024   02/13/25
   31           Dcl-C HELP       X'F3';                                                    000025   02/13/25
   32           Dcl-C PRINT      X'F6';                                                    000026   02/13/25
   33           dcl-c true       *on;                                                      000027   02/13/25
   34           dcl-c false      *off;                                                     000028   02/13/25
                                                   -=* http://pub400.com *=-
5770ST1 V7R5M0 220415            Create SQL ILE RPG Object         DEPTS                       02/13/25 15:41:16          Page     4
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8 ...+... 9 ...+... 0   SEQNBR  Last change
   35   **FREE                                                                                                 000000
   36                                                                                                          000006   02/13/25
   37   Dcl-Pr Employees ExtPgm;                                                                               000007   02/13/25
   38     DepartmentNumber Char(3);                                                                            000008   02/13/25
   39   End-Pr;                                                                                                000009   02/13/25
   40                                                                                                          000010   02/13/25
   41   Dcl-F depts WORKSTN Sfile(SFLDTA:Rrn) IndDS(WkStnInd) InfDS(FILEINFO);                                 000011   02/13/25
   42                                                                                                          000012   02/13/25
   43   Dcl-S Exit Ind Inz(*Off);                                                                              000013   02/13/25
   44                                                                                                          000014   02/13/25
   45   Dcl-S Rrn          Zoned(4:0) Inz;                                                                     000015   02/13/25
   46                                                                                                          000016   02/13/25
   47   Dcl-DS WkStnInd;                                                                                       000017   02/13/25
   48     ProcessSCF     Ind        Pos(21);                                                                   000018   02/13/25
   49     ReprintScf     Ind        Pos(22);                                                                   000019   02/13/25
   50     Error          Ind        Pos(25);                                                                   000020   02/13/25
   51     PageDown       Ind        Pos(30);                                                                   000021   02/13/25
   52     PageUp         Ind        Pos(31);                                                                   000022   02/13/25
   53     SflEnd         Ind        Pos(40);                                                                   000023   02/13/25
   54     SflBegin       Ind        Pos(41);                                                                   000024   02/13/25
   55     NoRecord       Ind        Pos(60);                                                                   000025   02/13/25
   56     SflDspCtl      Ind        Pos(85);                                                                   000026   02/13/25
   57     SflClr         Ind        Pos(75);                                                                   000027   02/13/25
   58     SflDsp         Ind        Pos(95);                                                                   000028   02/13/25
   59   End-DS;                                                                                                000029   02/13/25
   60                                                                                                          000030   02/13/25
   61   Dcl-DS FILEINFO;                                                                                       000031   02/13/25
   62     CPFID          Char(7)    Pos(46);                                                                   000032   02/13/25
   63     MBRNAM         Char(10)   Pos(129);                                                                  000033   02/13/25
   64     FMTNAM         Char(10)   Pos(261);                                                                  000034   02/13/25
   65     CURSED         Bindec(4)  Pos(370);                                                                  000035   02/13/25
   66     FUNKEY         Char(1)    Pos(369);                                                                  000036   02/13/25
   67     SFLRRN_TOP     Bindec(4)  Pos(378);                                                                  000037   02/13/25
   68     SF_RRN         Int(5)     Pos(376);                                                                  000038   02/13/25
   69     SF_RCDS        Int(5)     Pos(380);                                                                  000039   02/13/25
   70   End-DS;                                                                                                000040   02/13/25
   71                                                                                                          000041   02/13/25
   72                                                                                                          000042   02/13/25
   73   Dcl-S Index Int(5);                                                                                    000043   02/13/25
   74                                                                                                          000044   02/13/25
   75   Dcl-Ds Department ExtName('DEPARTMENT') Alias Qualified;                                               000045   02/13/25
   76   End-Ds;                                                                                                000046   02/13/25
   77                                                                                                          000047   02/13/25
   78                                                                                                          000048   02/13/25
   79                                                                                                          000049   02/13/25
   80   // ------------------------------------------------------------                                        000050   02/13/25
   81   Exit = *Off;                                                                                           000051   02/13/25
   82   LoadSubfile();                                                                                         000052   02/13/25
   83                                                                                                          000053   02/13/25
   84   Dow (Not Exit);                                                                                        000054   02/13/25
   85     Write HEADER_FMT;                                                                                    000055   02/13/25
   86     Write FOOTER_FMT;                                                                                    000056   02/13/25
   87     Exfmt SFLCTL;                                                                                        000057   02/13/25
   88                                                                                                          000058   02/13/25
   89     Select;                                                                                              000059   02/13/25
   90       When (Funkey = F03 or Funkey = F12);                                                               000060   02/13/25
                                                   -=* http://pub400.com *=-
5770ST1 V7R5M0 220415            Create SQL ILE RPG Object         DEPTS                       02/13/25 15:41:16          Page     5
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8 ...+... 9 ...+... 0   SEQNBR  Last change
   91         Exit = *On;                                                                                      000061   02/13/25
   92       When (Funkey = ENTER);                                                                             000062   02/13/25
   93         HandleInputs();                                                                                  000063   02/13/25
   94     Endsl;                                                                                               000064   02/13/25
   95   Enddo;                                                                                                 000065   02/13/25
   96                                                                                                          000066   02/13/25
   97   *INLR = *ON;                                                                                           000067   02/13/25
   98   Return;                                                                                                000068   02/13/25
   99                                                                                                          000069   02/13/25
  100                                                                                                          000070   02/13/25
  101   // ------------------------------------------------------------                                        000071   02/13/25
  102   Dcl-Proc ClearSubfile;                                                                                 000072   02/13/25
  103     SflDspCtl = *Off;                                                                                    000073   02/13/25
  104     SflDsp = *Off;                                                                                       000074   02/13/25
  105                                                                                                          000075   02/13/25
  106     Write SFLCTL;                                                                                        000076   02/13/25
  107                                                                                                          000077   02/13/25
  108     SflDspCtl = *On;                                                                                     000078   02/13/25
  109                                                                                                          000079   02/13/25
  110     Rrn = 0;                                                                                             000080   02/13/25
  111   End-Proc;                                                                                              000081   02/13/25
  112                                                                                                          000082   02/13/25
  113   // ------------------------------------------------------------                                        000083   02/13/25
  114   Dcl-Proc LoadSubfile;                                                                                  000084   02/13/25
  115     dcl-c SQL_OK '00000';                                                                                000085   02/13/25
  116                                                                                                          000086   02/13/25
  117     ClearSubfile();                                                                                      000087   02/13/25
  118                                                                                                          000088   02/13/25
  119     EXEC SQL                                                                                             000089   02/13/25
  120       DECLARE deptCur CURSOR FOR                                                                         000090   02/13/25
  121       SELECT DEPTNO, DEPTNAME                                                                            000091   02/13/25
  122       FROM DEPARTMENT;                                                                                   000092   02/13/25
  123                                                                                                          000093   02/13/25
  124     EXEC SQL OPEN deptCur;                                                                               000094   02/13/25
  125                                                                                                          000095   02/13/25
  126     if (sqlstate = SQL_OK);                                                                              000096   02/13/25
  127                                                                                                          000097   02/13/25
  128       dou (sqlstate <> SQL_OK);                                                                          000098   02/13/25
  129         EXEC SQL                                                                                         000099   02/13/25
  130           FETCH NEXT FROM deptCur                                                                        000100   02/13/25
  131           INTO :Department.DEPTNO, :Department.DEPTNAME;                                                 000101   02/13/25
  132                                                                                                          000102   02/13/25
  133         if (sqlstate = SQL_OK);                                                                          000103   02/13/25
  134           XID   = Department.DEPTNO;                                                                     000104   02/13/25
  135           XNAME = Department.DEPTNAME;                                                                   000105   02/13/25
  136                                                                                                          000106   02/13/25
  137           Rrn += 1;                                                                                      000107   02/13/25
  138           Write SFLDTA;                                                                                  000108   02/13/25
  139         endif;                                                                                           000109   02/13/25
  140       enddo;                                                                                             000110   02/13/25
  141                                                                                                          000111   02/13/25
  142     endif;                                                                                               000112   02/13/25
  143                                                                                                          000113   02/13/25
  144     EXEC SQL CLOSE deptCur;                                                                              000114   02/13/25
  145                                                                                                          000115   02/13/25
  146     If (Rrn > 0);                                                                                        000116   02/13/25
                                                   -=* http://pub400.com *=-
5770ST1 V7R5M0 220415            Create SQL ILE RPG Object         DEPTS                       02/13/25 15:41:16          Page     6
Record  *...+... 1 ...+... 2 ...+... 3 ...+... 4 ...+... 5 ...+... 6 ...+... 7 ...+... 8 ...+... 9 ...+... 0   SEQNBR  Last change
  147       SflDsp = *On;                                                                                      000117   02/13/25
  148       SFLRRN = 1;                                                                                        000118   02/13/25
  149     Endif;                                                                                               000119   02/13/25
  150                                                                                                          000120   02/13/25
  151   End-Proc;                                                                                              000121   02/13/25
  152                                                                                                          000122   02/13/25
  153   // ------------------------------------------------------------                                        000123   02/13/25
  154   Dcl-Proc HandleInputs;                                                                                 000124   02/13/25
  155     Dcl-S SelVal Char(1);                                                                                000125   02/13/25
  156                                                                                                          000126   02/13/25
  157     Dou (%EOF(depts));                                                                                   000127   02/13/25
  158       ReadC SFLDTA;                                                                                      000128   02/13/25
  159       If (%EOF(depts));                                                                                  000129   02/13/25
  160         Iter;                                                                                            000130   02/13/25
  161       Endif;                                                                                             000131   02/13/25
  162                                                                                                          000132   02/13/25
  163       SelVal = %Trim(XSEL);                                                                              000133   02/13/25
  164                                                                                                          000134   02/13/25
  165       Select;                                                                                            000135   02/13/25
  166         When (SelVal = '5');                                                                             000136   02/13/25
  167           Employees(XID);                                                                                000137   02/13/25
  168       Endsl;                                                                                             000138   02/13/25
  169                                                                                                          000139   02/13/25
  170       If (XSEL <> *Blank);                                                                               000140   02/13/25
  171         XSEL = *Blank;                                                                                   000141   02/13/25
  172         Update SFLDTA;                                                                                   000142   02/13/25
  173         SFLRRN = Rrn;                                                                                    000143   02/13/25
  174       Endif;                                                                                             000144   02/13/25
  175     Enddo;                                                                                               000145   02/13/25
  176   End-Proc;                                                                                              000146   02/13/25
                                * * * * *  E N D  O F  S O U R C E  * * * * *
                                                   -=* http://pub400.com *=-
5770ST1 V7R5M0 220415            Create SQL ILE RPG Object         DEPTS                       02/13/25 15:41:16          Page     7
                                               CROSS REFERENCE
Data Names                    Define    Reference
ADMRDEPT                         75       CHARACTER(3) IN DEPARTMENT
ADMRDEPT                         122      CHARACTER(3) CCSID 273 COLUMN (NOT NULL) IN DEPARTMENT
CLEARSUBFILE                     102      RPG PROCEDURE
CPFID                            62       CHARACTER(7) IN FILEINFO
CURSED                           65       SMALL INTEGER PRECISION(4,0) IN FILEINFO
DEPARTMENT                       75       STRUCTURE
DEPARTMENT                       ****     TABLE
                                          122
DEPTCUR                          120      CURSOR
                                          124 130 144
DEPTNAME                         75       VARCHAR(36) IN DEPARTMENT
                                          131
DEPTNAME                         ****     COLUMN
                                          121
DEPTNAME                         122      VARCHAR(36) CCSID 273 COLUMN (NOT NULL) IN DEPARTMENT
DEPTNO                           75       CHARACTER(3) IN DEPARTMENT
                                          131
DEPTNO                           ****     COLUMN
                                          121
DEPTNO                           122      CHARACTER(3) CCSID 273 COLUMN (NOT NULL) IN DEPARTMENT
EMPLOYEES                        37
ENTER                            30       CHARACTER(1) CCSID 65535 CONSTANT
ERROR                            50       BOOLEAN IN WKSTNIND
EXIT                             43       BOOLEAN
FILEINFO                         61       STRUCTURE
FMTNAM                           64       CHARACTER(10) IN FILEINFO
FUNKEY                           66       CHARACTER(1) IN FILEINFO
F01                              7        CHARACTER(1) CCSID 65535 CONSTANT
F02                              8        CHARACTER(1) CCSID 65535 CONSTANT
F03                              9        CHARACTER(1) CCSID 65535 CONSTANT
F04                              10       CHARACTER(1) CCSID 65535 CONSTANT
F05                              11       CHARACTER(1) CCSID 65535 CONSTANT
F06                              12       CHARACTER(1) CCSID 65535 CONSTANT
F07                              13       CHARACTER(1) CCSID 65535 CONSTANT
                                                   -=* http://pub400.com *=-
5770ST1 V7R5M0 220415            Create SQL ILE RPG Object         DEPTS                       02/13/25 15:41:16          Page     8
                                               CROSS REFERENCE
F08                              14       CHARACTER(1) CCSID 65535 CONSTANT
F09                              15       CHARACTER(1) CCSID 65535 CONSTANT
F10                              16       CHARACTER(1) CCSID 65535 CONSTANT
F11                              17       CHARACTER(1) CCSID 65535 CONSTANT
F12                              18       CHARACTER(1) CCSID 65535 CONSTANT
F13                              19       CHARACTER(1) CCSID 65535 CONSTANT
F14                              20       CHARACTER(1) CCSID 65535 CONSTANT
F15                              21       CHARACTER(1) CCSID 65535 CONSTANT
F16                              22       CHARACTER(1) CCSID 65535 CONSTANT
F17                              23       CHARACTER(1) CCSID 65535 CONSTANT
F18                              24       CHARACTER(1) CCSID 65535 CONSTANT
F19                              25       CHARACTER(1) CCSID 65535 CONSTANT
F20                              26       CHARACTER(1) CCSID 65535 CONSTANT
F21                              27       CHARACTER(1) CCSID 65535 CONSTANT
F22                              28       CHARACTER(1) CCSID 65535 CONSTANT
F24                              29       CHARACTER(1) CCSID 65535 CONSTANT
HANDLEINPUTS                     154      RPG PROCEDURE
HELP                             31       CHARACTER(1) CCSID 65535 CONSTANT
INDEX                            73       SMALL INTEGER PRECISION(4,0)
LOADSUBFILE                      114      RPG PROCEDURE
LOCATION                         75       CHARACTER(16) IN DEPARTMENT
LOCATION                         122      CHARACTER(16) CCSID 273 COLUMN IN DEPARTMENT
MBRNAM                           63       CHARACTER(10) IN FILEINFO
MGRNO                            75       CHARACTER(6) IN DEPARTMENT
MGRNO                            122      CHARACTER(6) CCSID 273 COLUMN IN DEPARTMENT
NORECORD                         55       BOOLEAN IN WKSTNIND
PAGEDOWN                         51       BOOLEAN IN WKSTNIND
PAGEUP                           52       BOOLEAN IN WKSTNIND
                                                   -=* http://pub400.com *=-
5770ST1 V7R5M0 220415            Create SQL ILE RPG Object         DEPTS                       02/13/25 15:41:16          Page     9
                                               CROSS REFERENCE
PRINT                            32       CHARACTER(1) CCSID 65535 CONSTANT
PROCESSSCF                       48       BOOLEAN IN WKSTNIND
REPRINTSCF                       49       BOOLEAN IN WKSTNIND
RRN                              41       NUMERIC(4,0)
SELVAL                           155      CHARACTER(1) IN RPG PROCEDURE HANDLEINPUTS
SF_RCDS                          69       SMALL INTEGER PRECISION(4,0) IN FILEINFO
SF_RRN                           68       SMALL INTEGER PRECISION(4,0) IN FILEINFO
SFLBEGIN                         54       BOOLEAN IN WKSTNIND
SFLCLR                           57       BOOLEAN IN WKSTNIND
SFLDSP                           58       BOOLEAN IN WKSTNIND
SFLDSPCTL                        56       BOOLEAN IN WKSTNIND
SFLEND                           53       BOOLEAN IN WKSTNIND
SFLRRN                           41       DECIMAL(4,0)
SFLRRN_TOP                       67       SMALL INTEGER PRECISION(4,0) IN FILEINFO
SQL_OK                           115      CHARACTER(5) CONSTANT IN RPG PROCEDURE LOADSUBFILE
WKSTNIND                         47       STRUCTURE
XID                              41       CHARACTER(3)
XNAME                            41       CHARACTER(38)
XSEL                             41       CHARACTER(1)
No errors found in source
  176 Source records processed
                               * * * * *  E N D  O F  L I S T I N G  * * * * *
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      1
  Command  . . . . . . . . . . . . :   CRTBNDRPG
    Issued by  . . . . . . . . . . :     HEKKR400
  Program  . . . . . . . . . . . . :   DEPTS
    Library  . . . . . . . . . . . :     HEKKR4001
  Text 'description' . . . . . . . :
  Source stream file   . . . . . . :   /QSYS.LIB/QTEMP.LIB/QSQLTEMP1.FILE/DEPTS.MBR
    CCSID  . . . . . . . . . . . . :     273
  Target CCSID . . . . . . . . . . :   *JOB (273)
  Text 'description' . . . . . . . :
  Last Change  . . . . . . . . . . :   02/13/25  15:41:16
  Generation severity level  . . . :   10
  Default activation group . . . . :   *YES
  Compiler options . . . . . . . . :   *XREF      *GEN       *NOSECLVL  *SHOWCPY
                                       *EXPDDS    *EXT       *NOSHOWSKP *NOSRCSTMT
                                       *DEBUGIO   *UNREF     *EVENTF
  Debugging views  . . . . . . . . :   *ALL
  Debug encryption key . . . . . . :   *NONE
  Output . . . . . . . . . . . . . :   *PRINT
  Optimization level . . . . . . . :   *NONE
  Source listing indentation . . . :   *NONE
  Type conversion options  . . . . :   *NONE
  Sort sequence  . . . . . . . . . :   *JOB
  Language identifier  . . . . . . :   *JOB
  Replace program  . . . . . . . . :   *YES
  User profile . . . . . . . . . . :   *USER
  Authority  . . . . . . . . . . . :   *LIBCRTAUT
  Truncate numeric . . . . . . . . :   *YES
  Fix numeric  . . . . . . . . . . :   *NONE
  Target release . . . . . . . . . :   V7R5M0
  Allow null values  . . . . . . . :   *NO
  Define condition names . . . . . :   *NONE
  Enable performance collection  . :   *PEP
  Profiling data . . . . . . . . . :   *NOCOL
  Licensed Internal Code options . :
  Generate program interface . . . :   *NO
  Include directory  . . . . . . . :   includes
                                   :   QPROTOSRC
  Preprocessor options . . . . . . :   *NONE
  Require prototype for export . . :   *NO
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      2
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
                          S o u r c e   L i s t i n g
     1 **FREE                                                                                                               000001
     2                                                                                                                      000002
     3 Ctl-Opt DFTACTGRP(*no);                                                                                              000003
     4                                                                                                                      000004
     5 // /include 'qrpgleref/constants.rpgleinc'                                                                           000005
     6 **END-FREE                                                                                                           000006
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
        *--------------------------------------------------------------------*
        * Compiler Options in Effect:                                        *
        *--------------------------------------------------------------------*
        *  Text 'description' . . . . . . . :                                *
        *                                                                    *
        *  Generation severity level  . . . :   10                           *
        *  Default activation group . . . . :   *NO                          *
        *  Compiler options . . . . . . . . :   *XREF      *GEN              *
        *                                       *NOSECLVL  *SHOWCPY          *
        *                                       *EXPDDS    *EXT              *
        *                                       *NOSHOWSKP *NOSRCSTMT        *
        *                                       *DEBUGIO   *UNREF            *
        *                                       *EVENTF                      *
        *  Optimization level . . . . . . . :   *NONE                        *
        *  Source listing indentation . . . :   *NONE                        *
        *  Type conversion options  . . . . :   *NONE                        *
        *  Sort sequence  . . . . . . . . . :   *JOB                         *
        *  Language identifier  . . . . . . :   *JOB                         *
        *  User profile . . . . . . . . . . :   *USER                        *
        *  Authority  . . . . . . . . . . . :   *LIBCRTAUT                   *
        *  Truncate numeric . . . . . . . . :   *YES                         *
        *  Fix numeric  . . . . . . . . . . :   *NONE                        *
        *  Allow null values  . . . . . . . :   *NO                          *
        *  Storage model . . .  . . . . . . :   *SNGLVL                      *
        *  Binding directory from Command . :   *NONE                        *
        *  Binding directory from Source  . :   *NONE                        *
        *  Activation group . . . . . . . . :   *STGMDL                      *
        *  Enable performance collection  . :   *PEP                         *
        *  Profiling data . . . . . . . . . :   *NOCOL                       *
        *  Generate program interface . . . :   *NO                          *
        *  Require prototype for export . . :   *NO                          *
        *--------------------------------------------------------------------*
     7    Dcl-C F01        X'31';                                                                                           000007
     8    Dcl-C F02        X'32';                                                                                           000008
     9    Dcl-C F03        X'33';                                                                                           000009
    10    Dcl-C F04        X'34';                                                                                           000010
    11    Dcl-C F05        X'35';                                                                                           000011
    12    Dcl-C F06        X'36';                                                                                           000012
    13    Dcl-C F07        X'37';                                                                                           000013
    14    Dcl-C F08        X'38';                                                                                           000014
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      3
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    15    Dcl-C F09        X'39';                                                                                           000015
    16    Dcl-C F10        X'3A';                                                                                           000016
    17    Dcl-C F11        X'3B';                                                                                           000017
    18    Dcl-C F12        X'3C';                                                                                           000018
    19    Dcl-C F13        X'B1';                                                                                           000019
    20    Dcl-C F14        X'B2';                                                                                           000020
    21    Dcl-C F15        X'B3';                                                                                           000021
    22    Dcl-C F16        X'B4';                                                                                           000022
    23    Dcl-C F17        X'B5';                                                                                           000023
    24    Dcl-C F18        X'B6';                                                                                           000024
    25    Dcl-C F19        X'B7';                                                                                           000025
    26    Dcl-C F20        X'B8';                                                                                           000026
    27    Dcl-C F21        X'B9';                                                                                           000027
    28    Dcl-C F22        X'BA';                                                                                           000028
    29    Dcl-C F24        X'BC';                                                                                           000029
    30    Dcl-C ENTER      X'F1';                                                                                           000030
    31    Dcl-C HELP       X'F3';                                                                                           000031
    32    Dcl-C PRINT      X'F6';                                                                                           000032
    33    dcl-c true       *on;                                                                                             000033
    34    dcl-c false      *off;                                                                                            000034
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
    35 **FREE                                                                                                               000035
    36                                                                                                                      000036
    37 Dcl-Pr Employees ExtPgm;                                                                                             000037
    38   DepartmentNumber Char(3);                                                                                          000038
    39 End-Pr;                                                                                                              000039
    40                                                                                                                      000040
    41 Dcl-F depts WORKSTN Sfile(SFLDTA:Rrn) IndDS(WkStnInd) InfDS(FILEINFO);                                               000041
        *--------------------------------------------------------------------------------------------*
        *                               RPG name         External name                               *
        * File name. . . . . . . . . :  DEPTS            HEKKR4001/DEPTS                             *
        * Record format(s) . . . . . :  SFLDTA           SFLDTA                                      *
        *                               SFLCTL           SFLCTL                                      *
        *                               HEADER_FMT       HEADER_FMT                                  *
        *                               FOOTER_FMT       FOOTER_FMT                                  *
        *--------------------------------------------------------------------------------------------*
    42                                                                                                                      000042
    43 Dcl-S Exit Ind Inz(*Off);                                                                                            000043
    44                                                                                                                      000044
    45 Dcl-S Rrn          Zoned(4:0) Inz;                                                                                   000045
    46                                                                                                                      000046
    47 Dcl-DS WkStnInd;                                                                                                     000047
    48   ProcessSCF     Ind        Pos(21);                                                                                 000048
    49   ReprintScf     Ind        Pos(22);                                                                                 000049
    50   Error          Ind        Pos(25);                                                                                 000050
    51   PageDown       Ind        Pos(30);                                                                                 000051
    52   PageUp         Ind        Pos(31);                                                                                 000052
    53   SflEnd         Ind        Pos(40);                                                                                 000053
    54   SflBegin       Ind        Pos(41);                                                                                 000054
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      4
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
    55   NoRecord       Ind        Pos(60);                                                                                 000055
    56   SflDspCtl      Ind        Pos(85);                                                                                 000056
    57   SflClr         Ind        Pos(75);                                                                                 000057
    58   SflDsp         Ind        Pos(95);                                                                                 000058
    59 End-DS;                                                                                                              000059
    60                                                                                                                      000060
    61 Dcl-DS FILEINFO;                                                                                                     000061
    62   CPFID          Char(7)    Pos(46);                                                                                 000062
    63   MBRNAM         Char(10)   Pos(129);                                                                                000063
    64   FMTNAM         Char(10)   Pos(261);                                                                                000064
    65   CURSED         Bindec(4)  Pos(370);                                                                                000065
    66   FUNKEY         Char(1)    Pos(369);                                                                                000066
    67   SFLRRN_TOP     Bindec(4)  Pos(378);                                                                                000067
    68   SF_RRN         Int(5)     Pos(376);                                                                                000068
    69   SF_RCDS        Int(5)     Pos(380);                                                                                000069
    70 End-DS;                                                                                                              000070
    71                                                                                                                      000071
    72                                                                                                                      000072
    73 Dcl-S Index Int(5);                                                                                                  000073
    74                                                                                                                      000074
    75 Dcl-Ds Department ExtName('DEPARTMENT') Alias Qualified;                                                             000075
    76 End-Ds;                                                                                                              000076
        *--------------------------------------------------------------------------------------------*                     1
        * Data structure . . . . . . :  DEPARTMENT                                                   *                     1
        * External format  . . . . . :  DEPARTMENT : HEKKR4001/DEPARTMENT                            *                     1
        *--------------------------------------------------------------------------------------------*                     1
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
    77=D DEPTNO                         3A                                                                                 1000001
    78=D DEPTNAME                      36A   VARYING                                                                       1000002
    79=D MGRNO                          6A                                                                                 1000003
    80=D ADMRDEPT                       3A                                                                                 1000004
    81=D LOCATION                      16A                                                                                 1000005
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
    82                                                                                                                      000077
    83                                                                                                                      000078
    84                                                                                                                      000079
    85 // ------------------------------------------------------------                                                      000080
    86        /SET CCSID(*CHAR:*JOBRUNMIX)                                                                                  000081
    87        // SQL COMMUNICATION AREA                                                //SQL                                000082
    88        DCL-DS SQLCA;                                                            //SQL                                000083
    89          SQLCAID CHAR(8) INZ(X'0000000000000000');                              //SQL                                000084
    90           SQLAID CHAR(8) OVERLAY(SQLCAID);                                      //SQL                                000085
    91          SQLCABC INT(10);                                                       //SQL                                000086
    92           SQLABC BINDEC(9) OVERLAY(SQLCABC);                                    //SQL                                000087
    93          SQLCODE INT(10);                                                       //SQL                                000088
    94           SQLCOD BINDEC(9) OVERLAY(SQLCODE);                                    //SQL                                000089
    95          SQLERRML INT(5);                                                       //SQL                                000090
    96           SQLERL BINDEC(4) OVERLAY(SQLERRML);                                   //SQL                                000091
    97          SQLERRMC CHAR(70);                                                     //SQL                                000092
    98           SQLERM CHAR(70) OVERLAY(SQLERRMC);                                    //SQL                                000093
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      5
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
    99          SQLERRP CHAR(8);                                                       //SQL                                000094
   100           SQLERP CHAR(8) OVERLAY(SQLERRP);                                      //SQL                                000095
   101          SQLERR CHAR(24);                                                       //SQL                                000096
   102           SQLER1 BINDEC(9) OVERLAY(SQLERR:*NEXT);                               //SQL                                000097
   103           SQLER2 BINDEC(9) OVERLAY(SQLERR:*NEXT);                               //SQL                                000098
   104           SQLER3 BINDEC(9) OVERLAY(SQLERR:*NEXT);                               //SQL                                000099
   105           SQLER4 BINDEC(9) OVERLAY(SQLERR:*NEXT);                               //SQL                                000100
   106           SQLER5 BINDEC(9) OVERLAY(SQLERR:*NEXT);                               //SQL                                000101
   107           SQLER6 BINDEC(9) OVERLAY(SQLERR:*NEXT);                               //SQL                                000102
   108           SQLERRD INT(10) DIM(6) OVERLAY(SQLERR);                               //SQL                                000103
   109          SQLWRN CHAR(11);                                                       //SQL                                000104
   110           SQLWN0 CHAR(1) OVERLAY(SQLWRN:*NEXT);                                 //SQL                                000105
   111           SQLWN1 CHAR(1) OVERLAY(SQLWRN:*NEXT);                                 //SQL                                000106
   112           SQLWN2 CHAR(1) OVERLAY(SQLWRN:*NEXT);                                 //SQL                                000107
   113           SQLWN3 CHAR(1) OVERLAY(SQLWRN:*NEXT);                                 //SQL                                000108
   114           SQLWN4 CHAR(1) OVERLAY(SQLWRN:*NEXT);                                 //SQL                                000109
   115           SQLWN5 CHAR(1) OVERLAY(SQLWRN:*NEXT);                                 //SQL                                000110
   116           SQLWN6 CHAR(1) OVERLAY(SQLWRN:*NEXT);                                 //SQL                                000111
   117           SQLWN7 CHAR(1) OVERLAY(SQLWRN:*NEXT);                                 //SQL                                000112
   118           SQLWN8 CHAR(1) OVERLAY(SQLWRN:*NEXT);                                 //SQL                                000113
   119           SQLWN9 CHAR(1) OVERLAY(SQLWRN:*NEXT);                                 //SQL                                000114
   120           SQLWNA CHAR(1) OVERLAY(SQLWRN:*NEXT);                                 //SQL                                000115
   121           SQLWARN CHAR(1) DIM(11) OVERLAY(SQLWRN);                              //SQL                                000116
   122          SQLSTATE CHAR(5);                                                      //SQL                                000117
   123           SQLSTT CHAR(5) OVERLAY(SQLSTATE);                                     //SQL                                000118
   124        END-DS SQLCA;                                                            //SQL                                000119
   125        DCL-PR SQLROUTE_CALL EXTPGM(SQLROUTE);                                   //SQL                                000120
   126          CA LIKEDS(SQLCA);                                                      //SQL                                000121
   127          *N BINDEC(4) OPTIONS(*NOPASS);                                         //SQL                                000122
   128          *N CHAR(1) OPTIONS(*NOPASS);                                           //SQL                                000123
   129        END-PR SQLROUTE_CALL;                                                    //SQL                                000124
   130        DCL-PR SQLOPEN_CALL EXTPGM(SQLOPEN);                                     //SQL                                000125
   131          CA LIKEDS(SQLCA);                                                      //SQL                                000126
   132          *N BINDEC(4);                                                          //SQL                                000127
   133        END-PR SQLOPEN_CALL;                                                     //SQL                                000128
   134        DCL-PR SQLCLSE_CALL EXTPGM(SQLCLSE);                                     //SQL                                000129
   135          CA LIKEDS(SQLCA);                                                      //SQL                                000130
   136          *N BINDEC(4);                                                          //SQL                                000131
   137        END-PR SQLCLSE_CALL;                                                     //SQL                                000132
   138        DCL-PR SQLCMIT_CALL EXTPGM(SQLCMIT);                                     //SQL                                000133
   139          CA LIKEDS(SQLCA);                                                      //SQL                                000134
   140          *N BINDEC(4);                                                          //SQL                                000135
   141        END-PR SQLCMIT_CALL;                                                     //SQL                                000136
   142        /RESTORE CCSID(*CHAR)                                                                                         000137
   143        DCL-C SQLROUTE CONST('QSYS/QSQROUTE');                                   //SQL                                000138
   144        DCL-C SQLOPEN CONST('QSYS/QSQROUTE');                                    //SQL                                000139
   145        DCL-C SQLCLSE CONST('QSYS/QSQLCLSE');                                    //SQL                                000140
   146        DCL-C SQLCMIT CONST('QSYS/QSQLCMIT');                                    //SQL                                000141
   147        DCL-C SQFRD CONST(2);                                                    //SQL                                000142
   148        DCL-C SQFCRT CONST(8);                                                   //SQL                                000143
   149        DCL-C SQFOVR CONST(16);                                                  //SQL                                000144
   150        DCL-C SQFAPP CONST(32);                                                  //SQL                                000145
   151=ISFLDTA                                                                                                             2000001
        *--------------------------------------------------------------------------------------------*                     2
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      6
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
        * RPG record format  . . . . :  SFLDTA                                                       *                     2
        * External format  . . . . . :  SFLDTA : HEKKR4001/DEPTS                                     *                     2
        *--------------------------------------------------------------------------------------------*                     2
   152=I                             S    1    4 0RRN                                                                      2000002
   153=I                             A    5    5  XSEL                                                                     2000003
   154=I                             A    6    8  XID                                                                      2000004
   155=I                             A    9   46  XNAME                                                                    2000005
   156=ISFLCTL                                                                                                             3000001
        *--------------------------------------------------------------------------------------------*                     3
        * RPG record format  . . . . :  SFLCTL                                                       *                     3
        * External format  . . . . . :  SFLCTL : HEKKR4001/DEPTS                                     *                     3
        *--------------------------------------------------------------------------------------------*                     3
   157=I                             S    1    4 0SFLRRN                                                                   3000002
   158=IHEADER_FMT                                                                                                         4000001
        *--------------------------------------------------------------------------------------------*                     4
        * RPG record format  . . . . :  HEADER_FMT                                                   *                     4
        * External format  . . . . . :  HEADER_FMT : HEKKR4001/DEPTS                                 *                     4
        *--------------------------------------------------------------------------------------------*                     4
   159=IFOOTER_FMT                                                                                                         5000001
        *--------------------------------------------------------------------------------------------*                     5
        * RPG record format  . . . . :  FOOTER_FMT                                                   *                     5
        * External format  . . . . . :  FOOTER_FMT : HEKKR4001/DEPTS                                 *                     5
        *--------------------------------------------------------------------------------------------*                     5
   160 Exit = *Off;                                                                                                         000146
   161 LoadSubfile();                                                                                                       000147
   162                                                                                                                      000148
   163 Dow (Not Exit);                                                                                      B01             000149
   164   Write HEADER_FMT;                                                                                   01             000150
   165   Write FOOTER_FMT;                                                                                   01             000151
   166   Exfmt SFLCTL;                                                                                       01             000152
   167                                                                                                                      000153
   168   Select;                                                                                            B02             000154
   169     When (Funkey = F03 or Funkey = F12);                                                             X02             000155
   170       Exit = *On;                                                                                     02             000156
   171     When (Funkey = ENTER);                                                                           X02             000157
   172       HandleInputs();                                                                                 02             000158
   173   Endsl;                                                                                             E02             000159
   174 Enddo;                                                                                               E01             000160
   175                                                                                                                      000161
   176 *INLR = *ON;                                                                                                         000162
   177 Return;                                                                                                              000163
   178                                                                                                                      000164
   179                                                                                                                      000165
   180 // ------------------------------------------------------------                                                      000166
   181=OSFLDTA                                                                                                             6000001
        *--------------------------------------------------------------------------------------------*                     6
        * RPG record format  . . . . :  SFLDTA                                                       *                     6
        * External format  . . . . . :  SFLDTA : HEKKR4001/DEPTS                                     *                     6
        *--------------------------------------------------------------------------------------------*                     6
   182=O                       RRN                  4S ZONE      4,0                                                       6000002
   183=O                       XSEL                 5A CHAR        1                                                       6000003
   184=O                       XID                  8A CHAR        3                                                       6000004
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      7
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
   185=O                       XNAME               46A CHAR       38                                                       6000005
   186=OSFLCTL                                                                                                             7000001
        *--------------------------------------------------------------------------------------------*                     7
        * RPG record format  . . . . :  SFLCTL                                                       *                     7
        * External format  . . . . . :  SFLCTL : HEKKR4001/DEPTS                                     *                     7
        *--------------------------------------------------------------------------------------------*                     7
   187=O                       SFLRRN               4S ZONE      4,0                                                       7000002
   188=OHEADER_FMT                                                                                                         8000001
        *--------------------------------------------------------------------------------------------*                     8
        * RPG record format  . . . . :  HEADER_FMT                                                   *                     8
        * External format  . . . . . :  HEADER_FMT : HEKKR4001/DEPTS                                 *                     8
        *--------------------------------------------------------------------------------------------*                     8
   189=OFOOTER_FMT                                                                                                         9000001
        *--------------------------------------------------------------------------------------------*                     9
        * RPG record format  . . . . :  FOOTER_FMT                                                   *                     9
        * External format  . . . . . :  FOOTER_FMT : HEKKR4001/DEPTS                                 *                     9
        *--------------------------------------------------------------------------------------------*                     9
   190 Dcl-Proc ClearSubfile;                                                                                               000167
   191   SflDspCtl = *Off;                                                                                                  000168
   192   SflDsp = *Off;                                                                                                     000169
   193                                                                                                                      000170
   194   Write SFLCTL;                                                                                                      000171
   195                                                                                                                      000172
   196   SflDspCtl = *On;                                                                                                   000173
   197                                                                                                                      000174
   198   Rrn = 0;                                                                                                           000175
   199 End-Proc;                                                                                                            000176
   200                                                                                                                      000177
   201 // ------------------------------------------------------------                                                      000178
   202 Dcl-Proc LoadSubfile;                                                                                                000179
   203   dcl-c SQL_OK '00000';                                                                                              000180
   204                                                                                                                      000181
   205 **END-FREE                                                                                                           000182
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   206 D                 DS                  STATIC                               OPEN                                      000183
   207 D  SQL_00000              1      2B 0 INZ(128)                             length of header                          000184
   208 D  SQL_00001              3      4B 0 INZ(2)                               statement number                          000185
   209 D  SQL_00002              5      8U 0 INZ(0)                               invocation mark                           000186
   210 D  SQL_00003              9      9A   INZ('0') CCSID(*JOBRUNMIX)           data is okay                              000187
   211 D  SQL_00004             10    127A   CCSID(*JOBRUNMIX)                    end of header                             000188
   212 D  SQL_00005            128    128A   CCSID(*JOBRUNMIX)                    end of header                             000189
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
   213 **FREE                                                                                                               000190
   214 **END-FREE                                                                                                           000191
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      8
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   215 D                 DS                  STATIC                               FETCH                                     000192
   216 D  SQL_00006              1      2B 0 INZ(128)                             length of header                          000193
   217 D  SQL_00007              3      4B 0 INZ(3)                               statement number                          000194
   218 D  SQL_00008              5      8U 0 INZ(0)                               invocation mark                           000195
   219 D  SQL_00009              9      9A   INZ('0') CCSID(*JOBRUNMIX)           data is okay                              000196
   220 D  SQL_00010             10    127A   CCSID(*JOBRUNMIX)                    end of header                             000197
   221 D  SQL_00011            129    131A   CCSID(*JOBRUNMIX)                    DEPARTMENT.DEPTNO                         000198
   222 D  SQL_00012            132    169A   VARYING CCSID(*JOBRUNMIX)            DEPARTMENT.DEPTNAME                       000199
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
   223 **FREE                                                                                                               000200
   224 **END-FREE                                                                                                           000201
Line   <---------------------- Source Specifications ----------------------------><---- Comments ----> Do  Page  Change Src Seq
Number ....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10 Num Line  Date   Id  Number
   225 D                 DS                  STATIC                               CLOSE                                     000202
   226 D  SQL_00013              1      2B 0 INZ(128)                             length of header                          000203
   227 D  SQL_00014              3      4B 0 INZ(4)                               statement number                          000204
   228 D  SQL_00015              5      8U 0 INZ(0)                               invocation mark                           000205
   229 D  SQL_00016              9      9A   INZ('0') CCSID(*JOBRUNMIX)           data is okay                              000206
   230 D  SQL_00017             10    127A   CCSID(*JOBRUNMIX)                    end of header                             000207
   231 D  SQL_00018            128    128A   CCSID(*JOBRUNMIX)                    end of header                             000208
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
   232 **FREE                                                                                                               000209
   233   ClearSubfile();                                                                                                    000210
   234                                                                                                                      000211
   235 //*  EXEC SQL                                                                                                        000212
   236 //*    DECLARE deptCur CURSOR FOR                                                                                    000213
   237 //*    SELECT DEPTNO, DEPTNAME                                                                                       000214
   238 //*    FROM DEPARTMENT;                                                                                              000215
   239                                                                                                                      000216
   240 //*  EXEC SQL OPEN deptCur;                                                                                          000217
   241           SQLER6 = -4;                                                          //SQL                                000218
   242           IF SQL_00002 = 0                                                      //SQL                B01             000219
   243           OR SQL_00003 <> *LOVAL;                                               //SQL                B01             000220
   244           SQLROUTE_CALL(                                                        //SQL                 01             000221
   245                SQLCA                                                            //SQL                 01             000222
   246              : SQL_00000                                                        //SQL                 01             000223
   247           );                                                                    //SQL                 01             000224
   248           ELSE;                                                                 //SQL                X01             000225
   249           SQLOPEN_CALL(                                                         //SQL                 01             000226
   250                SQLCA                                                            //SQL                 01             000227
   251              : SQL_00000                                                        //SQL                 01             000228
   252           );                                                                    //SQL                 01             000229
   253           ENDIF;                                                                //SQL                E01             000230
   254                                                                                                                      000231
   255   if (sqlstate = SQL_OK);                                                                            B01             000232
   256                                                                                                                      000233
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page      9
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
   257     dou (sqlstate <> SQL_OK);                                                                        B02             000234
   258 //*      EXEC SQL                                                                                                    000235
   259 //*        FETCH NEXT FROM deptCur                                                                                   000236
   260 //*        INTO :Department.DEPTNO, :Department.DEPTNAME;                                                            000237
   261           SQLER6 = -4;                                                          //SQL 3               02             000238
   262           SQLROUTE_CALL(                                                        //SQL                 02             000239
   263                SQLCA                                                            //SQL                 02             000240
   264              : SQL_00006                                                        //SQL                 02             000241
   265           );                                                                    //SQL                 02             000242
   266           IF SQL_00009 = '1';                                                   //SQL                B03             000243
   267           EVAL DEPARTMENT.DEPTNO = SQL_00011;                                   //SQL                 03             000244
   268           EVAL DEPARTMENT.DEPTNAME = SQL_00012;                                 //SQL                 03             000245
   269           ENDIF;                                                                //SQL                E03             000246
   270                                                                                                                      000247
   271       if (sqlstate = SQL_OK);                                                                        B03             000248
   272         XID   = Department.DEPTNO;                                                                    03             000249
   273         XNAME = Department.DEPTNAME;                                                                  03             000250
   274                                                                                                                      000251
   275         Rrn += 1;                                                                                     03             000252
   276         Write SFLDTA;                                                                                 03             000253
   277       endif;                                                                                         E03             000254
   278     enddo;                                                                                           E02             000255
   279                                                                                                                      000256
   280   endif;                                                                                             E01             000257
   281                                                                                                                      000258
   282 //*  EXEC SQL CLOSE deptCur;                                                                                         000259
   283           SQLER6 = 4;                                                           //SQL                                000260
   284           IF SQL_00015 = 0;                                                     //SQL                B01             000261
   285           SQLROUTE_CALL(                                                        //SQL                 01             000262
   286                SQLCA                                                            //SQL                 01             000263
   287              : SQL_00013                                                        //SQL                 01             000264
   288           );                                                                    //SQL                 01             000265
   289           ELSE;                                                                 //SQL                X01             000266
   290           SQLCLSE_CALL(                                                         //SQL                 01             000267
   291                SQLCA                                                            //SQL                 01             000268
   292              : SQL_00013                                                        //SQL                 01             000269
   293           );                                                                    //SQL                 01             000270
   294           ENDIF;                                                                //SQL                E01             000271
   295                                                                                                                      000272
   296   If (Rrn > 0);                                                                                      B01             000273
   297     SflDsp = *On;                                                                                     01             000274
   298     SFLRRN = 1;                                                                                       01             000275
   299   Endif;                                                                                             E01             000276
   300                                                                                                                      000277
   301 End-Proc;                                                                                                            000278
   302                                                                                                                      000279
   303 // ------------------------------------------------------------                                                      000280
   304 Dcl-Proc HandleInputs;                                                                                               000281
   305   Dcl-S SelVal Char(1);                                                                                              000282
   306                                                                                                                      000283
   307   Dou (%EOF(depts));                                                                                 B01             000284
   308     ReadC SFLDTA;                                                                                     01             000285
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page     10
Line   <---------------------- Source Specifications ----------------------------------------------------->  Do  Change Src Seq
Number ....+....1....+....2....+....3....+....4....+....5....+....6....+....7....+....8....+....9....+...10  Num Date   Id  Number
   309     If (%EOF(depts));                                                                                B02             000286
   310       Iter;                                                                                           02             000287
   311     Endif;                                                                                           E02             000288
   312                                                                                                                      000289
   313     SelVal = %Trim(XSEL);                                                                             01             000290
   314                                                                                                                      000291
   315     Select;                                                                                          B02             000292
   316       When (SelVal = '5');                                                                           X02             000293
   317         Employees(XID);                                                                               02             000294
   318     Endsl;                                                                                           E02             000295
   319                                                                                                                      000296
   320     If (XSEL <> *Blank);                                                                             B02             000297
   321       XSEL = *Blank;                                                                                  02             000298
   322       Update SFLDTA;                                                                                  02             000299
   323       SFLRRN = Rrn;                                                                                   02             000300
   324     Endif;                                                                                           E02             000301
   325   Enddo;                                                                                             E01             000302
   326 End-Proc;                                                                                                            000303
       * * * * *   E N D   O F   S O U R C E   * * * * *
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page     11
          A d d i t i o n a l   D i a g n o s t i c   M e s s a g e s
 Msg id  Sv Number Seq     Message text
*RNF7089 00     41 000041  RPG provides Separate-Indicator area for file DEPTS.
 * * * * *   E N D   O F   A D D I T I O N A L   D I A G N O S T I C   M E S S A G E S   * * * * *
                 O u t p u t   B u f f e r   P o s i t i o n s
Line   Start End   Field or Constant
Number Pos   Pos
   182     1     4 RRN
   183     5     5 XSEL
   184     6     8 XID
   185     9    46 XNAME
   182     1     4 RRN
   183     5     5 XSEL
   184     6     8 XID
   185     9    46 XNAME
   187     1     4 SFLRRN
   187     1     4 SFLRRN
 * * * * *   E N D   O F   O U T P U T   B U F F E R   P O S I T I O N   *  * * * *
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page     12
                          C r o s s   R e f e r e n c e
      File and Record References:
         File              Device             References (D=Defined)
           Record
         DEPTS             WORKSTN                41D    307     309
           SFLDTA                                 41D    151     181     276
                                                 308     322
           SFLCTL                                 41D    156     166     186
                                                 194
           HEADER_FMT                             41D    158     164     188
           FOOTER_FMT                             41D    159     165     189
      Global Field References:
         Field             Attributes         References (D=Defined M=Modified)
         *INLR             N(1)                  176M
         CLEARSUBFILE      PROTOTYPE             190     233M
*RNF7031 CPFID             A(7)                   62D
*RNF7031 CURSED            B(4,0)                 65D
         DEPARTMENT        DS(66)                 75D    267M    268M    272
                                                 273
*RNF7031   ADMRDEPT        A(3)                   80D
           DEPTNAME        A(36)                  78D    268     273
                           VARYING(2)
           DEPTNO          A(3)                   77D    267     272
*RNF7031   LOCATION        A(16)                  81D
                           ALWNULL
*RNF7031   MGRNO           A(6)                   79D
                           ALWNULL
         EMPLOYEES         PROTOTYPE              37D    317M
         ENTER             CONST                  30D    171
*RNF7031 ERROR             N(1)                   50D
         EXIT              N(1)                   43D    160M    163     170M
*RNF7031 FALSE             CONST                  34D
         FILEINFO          DS(381)                41      61D
*RNF7031 FMTNAM            A(10)                  64D
         FUNKEY            A(1)                   66D    169     169     171
*RNF7031 F01               CONST                   7D
*RNF7031 F02               CONST                   8D
         F03               CONST                   9D    169
*RNF7031 F04               CONST                  10D
*RNF7031 F05               CONST                  11D
*RNF7031 F06               CONST                  12D
*RNF7031 F07               CONST                  13D
*RNF7031 F08               CONST                  14D
*RNF7031 F09               CONST                  15D
*RNF7031 F10               CONST                  16D
*RNF7031 F11               CONST                  17D
         F12               CONST                  18D    169
*RNF7031 F13               CONST                  19D
*RNF7031 F14               CONST                  20D
*RNF7031 F15               CONST                  21D
*RNF7031 F16               CONST                  22D
*RNF7031 F17               CONST                  23D
*RNF7031 F18               CONST                  24D
*RNF7031 F19               CONST                  25D
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page     13
*RNF7031 F20               CONST                  26D
*RNF7031 F21               CONST                  27D
*RNF7031 F22               CONST                  28D
*RNF7031 F24               CONST                  29D
         HANDLEINPUTS      PROTOTYPE             172M    304
*RNF7031 HELP              CONST                  31D
*RNF7031 INDEX             I(5,0)                 73D
         LOADSUBFILE       PROTOTYPE             161M    202
*RNF7031 MBRNAM            A(10)                  63D
*RNF7031 NORECORD          N(1)                   55D
*RNF7031 PAGEDOWN          N(1)                   51D
*RNF7031 PAGEUP            N(1)                   52D
*RNF7031 PRINT             CONST                  32D
*RNF7031 PROCESSSCF        N(1)                   48D
*RNF7031 REPRINTSCF        N(1)                   49D
         RRN               S(4,0)                 41      45D    152M    182
                                                 198M    275M    296     323
*RNF7031 SF_RCDS           I(5,0)                 69D
*RNF7031 SF_RRN            I(5,0)                 68D
*RNF7031 SFLBEGIN          N(1)                   54D
*RNF7031 SFLCLR            N(1)                   57D
         SFLDSP            N(1)                   58D    192M    297M
         SFLDSPCTL         N(1)                   56D    191M    196M
*RNF7031 SFLEND            N(1)                   53D
         SFLRRN            P(4,0)                157M    187     298M    323M
*RNF7031 SFLRRN_TOP        B(4,0)                 67D
*RNF7031 SQFAPP            CONST                 150D
*RNF7031 SQFCRT            CONST                 148D
*RNF7031 SQFOVR            CONST                 149D
*RNF7031 SQFRD             CONST                 147D
*RNF7031 SQLABC            B(9,0)                 92D
*RNF7031 SQLAID            A(8)                   90D
         SQLCA             DS(136)                88D    126     131     135
                                                 139     245     250     263
                                                 286     291
         SQLCABC           I(10,0)                91D     92
         SQLCAID           A(8)                   89D     90
         SQLCLSE           CONST                 134     145D
         SQLCLSE_CALL      PROTOTYPE             134D    290M
         SQLCMIT           CONST                 138     146D
*RNF7031 SQLCMIT_CALL      PROTOTYPE             138D
*RNF7031 SQLCOD            B(9,0)                 94D
         SQLCODE           I(10,0)                93D     94
*RNF7031 SQLERL            B(4,0)                 96D
*RNF7031 SQLERM            A(70)                  98D
*RNF7031 SQLERP            A(8)                  100D
         SQLERR            A(24)                 101D    102     103     104
                                                 105     106     107     108
*RNF7031 SQLERRD(6)        I(10,0)               108D
         SQLERRMC          A(70)                  97D     98
         SQLERRML          I(5,0)                 95D     96
         SQLERRP           A(8)                   99D    100
*RNF7031 SQLER1            B(9,0)                102D
*RNF7031 SQLER2            B(9,0)                103D
*RNF7031 SQLER3            B(9,0)                104D
*RNF7031 SQLER4            B(9,0)                105D
*RNF7031 SQLER5            B(9,0)                106D
         SQLER6            B(9,0)                107D    241M    261M    283M
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page     14
         SQLOPEN           CONST                 130     144D
         SQLOPEN_CALL      PROTOTYPE             130D    249M
         SQLROUTE          CONST                 125     143D
         SQLROUTE_CALL     PROTOTYPE             125D    244M    262M    285M
         SQLSTATE          A(5)                  122D    123     255     257
                                                 271
*RNF7031 SQLSTT            A(5)                  123D
*RNF7031 SQLWARN(11)       A(1)                  121D
*RNF7031 SQLWNA            A(1)                  120D
*RNF7031 SQLWN0            A(1)                  110D
*RNF7031 SQLWN1            A(1)                  111D
*RNF7031 SQLWN2            A(1)                  112D
*RNF7031 SQLWN3            A(1)                  113D
*RNF7031 SQLWN4            A(1)                  114D
*RNF7031 SQLWN5            A(1)                  115D
*RNF7031 SQLWN6            A(1)                  116D
*RNF7031 SQLWN7            A(1)                  117D
*RNF7031 SQLWN8            A(1)                  118D
*RNF7031 SQLWN9            A(1)                  119D
         SQLWRN            A(11)                 109D    110     111     112
                                                 113     114     115     116
                                                 117     118     119     120
                                                 121
*RNF7031 TRUE              CONST                  33D
         WKSTNIND          DS(99)                 41      47D
         XID               A(3)                  154M    184     272M    317
         XNAME             A(38)                 155M    185     273M
         XSEL              A(1)                  153M    183     313     320
                                                 321M
      Field References for subprocedure CLEARSUBFILE
         Field             Attributes         References (D=Defined M=Modified)
         No references in the source.
      Field References for subprocedure LOADSUBFILE
         Field             Attributes         References (D=Defined M=Modified)
         SQL_OK            CONST                 203D    255     257     271
         SQL_00000         B(4,0)                207D    246     251
*RNF7031 SQL_00001         B(4,0)                208D
         SQL_00002         U(10,0)               209D    242
         SQL_00003         A(1)                  210D    243
*RNF7031 SQL_00004         A(118)                211D
*RNF7031 SQL_00005         A(1)                  212D
         SQL_00006         B(4,0)                216D    264
*RNF7031 SQL_00007         B(4,0)                217D
*RNF7031 SQL_00008         U(10,0)               218D
         SQL_00009         A(1)                  219D    266
*RNF7031 SQL_00010         A(118)                220D
         SQL_00011         A(3)                  221D    267
         SQL_00012         A(36)                 222D    268
                           VARYING(2)
         SQL_00013         B(4,0)                226D    287     292
*RNF7031 SQL_00014         B(4,0)                227D
         SQL_00015         U(10,0)               228D    284
*RNF7031 SQL_00016         A(1)                  229D
*RNF7031 SQL_00017         A(118)                230D
*RNF7031 SQL_00018         A(1)                  231D
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page     15
      Field References for subprocedure HANDLEINPUTS
         Field             Attributes         References (D=Defined M=Modified)
         SELVAL            A(1)                  305D    313M    316
      Indicator References:
         Indicator                            References (D=Defined M=Modified)
         LR                                      176M
       * * * * *   E N D   O F   C R O S S   R E F E R E N C E   * * * * *
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page     16
                      E x t e r n a l   R e f e r e n c e s
      Statically bound procedures:
         Procedure                            References
         No references in the source.
      Imported fields:
         Field             Attributes         Defined
         No references in the source.
      Exported fields:
         Field             Attributes         Defined
         No references in the source.
   * * * * *   E N D   O F   E X T E R N A L   R E F E R E N C E S   * * * * *
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page     17
                          M e s s a g e   S u m m a r y
 Msg id  Sv Number Message text
*RNF7031 00     85 The name or indicator is not referenced.
*RNF7089 00      1 RPG provides Separate-Indicator area for file.
       * * * * *   E N D   O F   M E S S A G E   S U M M A R Y   * * * * *
                                                   -=* http://pub400.com *=-
 5770WDS V7R5M0  220415 RN        IBM ILE RPG             HEKKR4001/DEPTS          PUB400     02/13/25 15:41:16        Page     18
                            F i n a l   S u m m a r y
  Message Totals:
    Information  (00) . . . . . . . :       86
    Warning      (10) . . . . . . . :        0
    Error        (20) . . . . . . . :        0
    Severe Error (30+)  . . . . . . :        0
    ---------------------------------  -------
    Total . . . . . . . . . . . . . :       86
  Source Totals:
    Records . . . . . . . . . . . . :      326
    Specifications  . . . . . . . . :      255
    Data records  . . . . . . . . . :        0
    Comments  . . . . . . . . . . . :       54
         * * * * *   E N D   O F   F I N A L   S U M M A R Y   * * * * *
Program DEPTS placed in library HEKKR4001. 00 highest severity. Created on 02/13/25 at 15:41:17.
          * * * * *   E N D   O F   C O M P I L A T I O N   * * * * *
                                                   -=* http://pub400.com *=-
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<

